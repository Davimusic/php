<!doctype html>
<html lang="es">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
        <link rel="stylesheet" href="css/IngresoInformacionGenerico.css">
        <link rel="stylesheet" href="css/styleMenu.css"> 
        <title>CRUD MONGODB</title>
        
    </head>
    <body>

        <div class="cabeza">
            <h1 class="logo">CONTABILIDAD <span>MADRE</span></h1>
            <div>
                <form method="link" action="/abrirPaginaDeLogeo">
                    <input class="menuCel w-100 btn btn-guardar btn-lg salir  " type="submit" value="SALIR">
                </form>
            </div>
        </div>
        
        <div class="menuCelular">
            <form method="link" action="/promedios">
                <input class="menuCel" type="submit" value="IR  A PROMEDIOS">
            </form>
        </div>
        
        
        <div class="contenedorPadre ">
            <div class="item1 " >
                <div class="ingresoInformacion">
                    <div class="shadow-lg pb-3 mb-5 gb-body rounded ">
                        <h4 class="titulo">INFORMACIÓN A INGRESAR</h4>
                        <form action="/crear" method="POST">
                            <div>
                            <label for="direccion" class="form-label titulo">DIRECCIÓN</label>
                            <select class="select" id="direccion" name="direccion">
                                <option value="kr19garaje">kr19garaje</option> 
                                <option value="kr19p1p1">kr19p1p1</option> 
                                <option value="kr19p1p2">kr19p1p2</option>
                                <option value="kr19p1p3">kr19p1p3</option> 
                                <option value="kr19p1p4">kr19p1p4</option> 
                                <option value="kr19p1p5">kr19p1p5</option>
                                <option value="kr19p1p6">kr19p1p6</option>
                                <option value="kr19p2p1">kr19p2p1</option>
                                <option value="kr19p2p2">kr19p2p2</option>
                                <option value="kr19p2p3">kr19p2p3</option>
                                <option value="kr19p3p1">kr19p3p1</option>
                                <option value="kr19p3p2">kr19p3p2</option>
                                <option value="kr19p3p3">kr19p3p3</option>
                                <option value="kr19p3p4">kr19p3p4</option>
                                <option value="kr21g2">Kr21g2</option>
                                <option value="kr21g3">Kr21g3</option>
                                <option value="kr21apartaestudio">Kr21apartaestudio</option>
                                <option value="kr21p2p1">Kr21p2p1</option>
                                <option value="kr21p2p2">Kr21p2p2</option>
                                <option value="kr21p2p3">Kr21p2p3</option>
                                <option value="kr21p2p4">Kr21p2p4</option>
                                <option value="kr21p3p1">Kr21p3p1</option>
                                <option value="kr21p3p2">Kr21p3p2</option>
                                <option value="kr21p3p3">Kr21p3p3</option>
                                <option value="kr21p3p4">Kr21p3p4</option>
                                <option value="kr21p3p5">Kr21p3p5</option>
                                <option value="kr21p4p1">Kr21p4p1</option>
                                <option value="kr21p4p2">Kr21p4p2</option>
                                <option value="kr21p4p3">Kr21p4p3</option>
                                <option value="kr21p4p4">Kr21p4p4</option>
                                <option value="kr21p4p5">Kr21p4p5</option>
                                <option value="kr21p5p1">Kr21p5p1</option>
                                <option value="kr21p5p2">Kr21p5p2</option>
                                <option value="kr21p5p3">Kr21p5p3</option>
                                <option value="kr21p5p4">Kr21p5p4</option>
                                <option value="kr21p5p5">Kr21p5p5</option>
                            </select>
                        </div>
                        <div>
                            <label for="dineroEntrante" class="form-label espacio">DINERO A INGRESAR</label>
                            <input class="select" id="dineroEntrante" name="dineroEntrante" type="number" class="form-control" required>
                        </div>
                        <div>
                            <label for="concepto" class="form-label espacio">CONCEPTO</label>
                            <select class="select" id="concepto" name="concepto" class="form-control" required>
                                <option value="arriendo">arriendo</option> 
                                <option value="cosina">cosina</option> 
                                <option value="lavadora">lavadora</option>
                                <option value="otro">otro</option> 
                            </select>    
                        </div>
                        <div>
                            <label for="fecha" class="form-label espacio">FECHA</label>
                            <input class="select" type="date" id="fecha" name="fecha" class="form-control"
                            min="2021-01-01" max="2024-12-31" required>
                        </div>
                        <div>
                            <label for="anotacionOpcional" class="form-label espacio">ANOTACIÓN OPCIONAL</label>
                            <input class="select " id="anotacionOpcional" name="anotacionOpcional" type="text" class="form-control" >
                        </div>
                        
                    </div>        
                        <button type="submit" class="w-100 btn btn-guardar btn-lg"><i class="bi bi-save"></i>REGISTRAR INFORMACIÓN</button>
                    </form>
                </div>
            </div>
            <div class="item2 ">
                <div class="mostrarInformacion ">
                    <div class="minicontenedor">
                        <div class="mini1">
                            <form action="/otroMostrar" method="POST">
                                <div>
                                    <label for="otroMostrar" class="form-label titulo"></label><h4>BUSQUEDA FILTRADA</h4></label>
                                    <input class="select " id="otroMostrar" name="otroMostrar" type="text" class="form-control" >
                                </div>
                        </div>    
                        <div class="mini2">   
                                <button type="submit" class="disminuirLetra w-100 btn btn-guardar btn-lg"><i class="bi bi-save"></i>FILTRAR INFORMACIÓN</button>
                            </form> 
                        </div>    
                    </div>    
                
                                       
                            <table id="tablaAlumnos" class=" table mt-4 ">
                                <thead>
                                        <tr class="tituloTabla">
                                            <th style="display: none;">ID</th>     
                                            <th>DIRECCIÓN</th>
                                            <th>DINERO A INGRESAR</th>
                                            <th>CONCEPTO</th>
                                            <th>FECHA</th>
                                            <th>ANOTACIÓN OPCIONAL</th>
                                            <th>ACCIONES</th>
                                        </tr>
                                </thead>
                               
                                <tbody >
                                        <% ingresos.forEach((ingreso) => { %>
                                                <tr>
                                                    <td style="display: none;"><%= ingreso.id %></td>
                                                    <td><%= ingreso.direccion %></td>
                                                    <td><%= ingreso.dineroEntrante %></td>
                                                    <td><%= ingreso.concepto %></td>
                                                    <td><%= ingreso.fecha %></td>
                                                    <td><%= ingreso.anotacionOpcional %></td>
                                                    <td>
                                                        <a type="button" class="btnEditar btn btn-outline-primary bi bi-pencil"></a>
                                                        <a href="/borrar/<%= ingreso._id %>" class="btn btn-outline-danger bi bi-trash"></a>
                                                        <a href="/vistaMensual"></a>
                                                    </td>
                                                </tr>
                                        <% }) %> 
                                </tbody>
                               
                            </table>

                    </div>      
                    
            </div>
            <div class="item3">
                 <!-- para el menu lateral -->
                <div class="navigation">
                    <h4 class="titulo tituloMenu">MENU</h4>
                    <ul>
                        <div class="espacioTituloMenu">
                        </div>
                        <li  class="list active">
                            <b></b>
                            <b></b>
                            <a href="/">
                            <span class="icon"></span>
                        <span class="title "><h6>INGRE.</h6></span>
                            </a>
                        </li>
                        <li  class="list">
                            <b></b>
                            <b></b>
                            <a href="/mostrarGananciasExternas">
                            <span class="icon"></span>
                            <span class="title"><h6>GAN EXTER</h6></span>
                            </a>
                        </li>
                        <li  class="list">
                            <b></b>
                            <b></b>
                            <a href="/mostrarDinerosSalida">
                            <span class="icon"></span>
                            <span class="title"><h6>DINER SAL</h6></span>
                            </a>
                        </li>
                        <li>
                            <span class="title"><h6>------------</h6></span>
                        </li>
                        <li  class="list">
                            <b></b>
                            <b></b>
                            <a href="/promedios">
                            <span class="icon"></span>
                            <span class="title"><h7>PROME</h7></span>
                            </a>
                        </li>
                        <li  class="list">
                            <b></b>
                            <b></b>
                            <a href="/vistaMensual">
                            <span class="icon"></span>
                            <span class="title"><h7>VISTA MEN</h7></span>
                            </a>
                        </li>             
                    </ul>
                </div>
            
                <div class="toggle">
                </div>
                
            </div>
        </div>

        <!--modal para editar-->
        <div id="modalAlumno" class="modal fade" tabindex="-1" aria-labelledby="modalAlumno" aria-hidden="true">
            <div class="modal-dialog sombra">
                 <div class="modal-content fondo">
                       <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title" id="exampleModalLabel">EDITAR INFORMACIÓN</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                       </div>
                       <div class="modal-body">
                            <form action="/editar" method="POST">
                                <input  type="text" name="id_editar" id="id_editar" hidden>
                            <div class="mb-3">
                                <label for="direccion_editar" class="col-form-label">DIRECCIÓN</label>
                                <select class="select" id="direccion_editar" name="direccion_editar">
                                    <option value="kr19garaje">kr19garaje</option> 
                                    <option value="kr19p1p1">kr19p1p1</option> 
                                    <option value="kr19p1p2">kr19p1p2</option>
                                    <option value="kr19p1p3">kr19p1p3</option> 
                                    <option value="kr19p1p4">kr19p1p4</option> 
                                    <option value="kr19p1p5">kr19p1p5</option>
                                    <option value="kr19p1p6">kr19p1p6</option>
                                    <option value="kr19p2p1">kr19p2p1</option>
                                    <option value="kr19p2p2">kr19p2p2</option>
                                    <option value="kr19p2p3">kr19p2p3</option>
                                    <option value="kr19p3p1">kr19p3p1</option>
                                    <option value="kr19p3p2">kr19p3p2</option>
                                    <option value="kr19p3p3">kr19p3p3</option>
                                    <option value="kr19p3p4">kr19p3p4</option>
                                    <option value="kr21g2">Kr21g2</option>
                                    <option value="kr21g3">Kr21g3</option>
                                    <option value="kr21apartaestudio">Kr21apartaestudio</option>
                                    <option value="kr21p2p1">Kr21p2p1</option>
                                    <option value="kr21p2p2">Kr21p2p2</option>
                                    <option value="kr21p2p3">Kr21p2p3</option>
                                    <option value="kr21p2p4">Kr21p2p4</option>
                                    <option value="kr21p3p1">Kr21p3p1</option>
                                    <option value="kr21p3p2">Kr21p3p2</option>
                                    <option value="kr21p3p3">Kr21p3p3</option>
                                    <option value="kr21p3p4">Kr21p3p4</option>
                                    <option value="kr21p3p5">Kr21p3p5</option>
                                    <option value="kr21p4p1">Kr21p4p1</option>
                                    <option value="kr21p4p2">Kr21p4p2</option>
                                    <option value="kr21p4p3">Kr21p4p3</option>
                                    <option value="kr21p4p4">Kr21p4p4</option>
                                    <option value="kr21p4p5">Kr21p4p5</option>
                                    <option value="kr21p5p1">Kr21p5p1</option>
                                    <option value="kr21p5p2">Kr21p5p2</option>
                                    <option value="kr21p5p3">Kr21p5p3</option>
                                    <option value="kr21p5p4">Kr21p5p4</option>
                                    <option value="kr21p5p5">Kr21p5p5</option>
                                 </select>
                            </div>
                            <div class="mb-3">
                                <label for="dineroEntrante_editar" class="col-form-label">DINERO A INGRESAR</label>
                                <input class="select" id="dineroEntrante_editar" name="dineroEntrante_editar" type="number" class="form-control" value="">
                            </div> 
                            <div class="mb-3">
                                <label for="concepto_editar" class="col-form-label">CONCEPTO</label>
                                <select class="select" id="concepto_editar" name="concepto_editar" class="form-control" required>
                                    <option value="arriendo">arriendo</option> 
                                    <option value="cosina">cosina</option> 
                                    <option value="lavadora">lavadora</option>
                                    <option value="otro">otro</option> 
                                </select>    
                            </div> 
                            <div class="mb-3">
                                <label for="fecha_editar" class="col-form-label">DIRECCIÓN</label>
                                <input class="select" type="date" id="fecha_editar" name="fecha_editar" class="form-control"
                                value="2021-01-01"
                                min="2021-01-01" max="2024-12-31" required>
                            </div>
                            <div class="mb-3">
                                <label for="anotacionOpcional_editar" class="col-form-label">ANOTACIÓN OPCIONAL</label>
                                <input class="select" id="anotacionOpcional_editar" name="anotacionOpcional_editar" type="text" class="form-control" value="">
                            </div>
                       </div>
                       <div class="modal-footer">
                            <button type="submit" class="w-100 btn btn-guardar btn-lg"><i class="bi bi-save"></i>ACTUALIZAR INFORMACIÓN</button>
                       </div>
                    </form> 
                 </div>
            </div>
        </div>

        
        
       
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
        <script src="js/code.js"></script>
        <script src="../index.js"></script>

        <!-- Esto es del menu de lateral-->
        <script>
            let menuToggle = document.querySelector('.toggle');
            let navigation = document.querySelector('.navigation');
            menuToggle.onclick = function(){
                menuToggle.classList.toggle('active');
                navigation.classList.toggle('active');
            }
    
            let list = document.querySelectorAll('.list');
            for(let i=0; i<list.length; i++){
                list[i].onclick = function(){
                    let j = 0;
                    while(j < list.length){
                        list[j++].className = 'list';
                    }
                    list[i].className = 'list active';
                }
            }
        </script>
        
      
        
    </body>
</html>